import{d as b,j as k,o as c,c as _,g as d,I,a as t,H as g,p as $,b as A,_ as v,r as j,w,M as C,F as h,t as u,n as J,e as p,f as S,h as x,i as D}from"./index-CmkFh6Dp.js";import{R as B}from"./RadioInputField-C42jBUgM.js";const H=o=>($("data-v-1920e0e0"),o=o(),A(),o),M={action:"",class:"form"},F=H(()=>t("h1",null,"Add Job",-1)),T=b({__name:"AddJobModal",setup(o){const e=k({title:"",description:"",isAvailable:!1}),r=i=>{e.isAvailable=i=="Available"},n=async()=>{const i=await g.post("career/jobs",e,{Authorization:`Bearer ${localStorage.getItem("token")}`});console.log(i)};return(i,a)=>(c(),_("div",M,[F,d(I,{onInput:a[0]||(a[0]=s=>e.title=s),type:"text",placeHolder:"Enter Job Title"}),d(B,{onChange:a[1]||(a[1]=s=>r(s)),style:{width:"100%"},title:"",options:["Available","Unavailable"],checked:"Available",id:"availability",error:!1}),d(I,{onInput:a[2]||(a[2]=s=>e.description=s),height:"20rem",label:"Job Description",type:"text",placeHolder:"Enter Job Description"}),t("button",{class:"btn",onClick:n},"Submit")]))}}),L=v(T,[["__scopeId","data-v-1920e0e0"]]),z=o=>($("data-v-87d9df94"),o=o(),A(),o),E={class:"header"},N=z(()=>t("h1",null,"Jobs",-1)),V=b({__name:"JobsHeader",setup(o){const e=j(null);return(r,n)=>(c(),_(h,null,[d(C,{ref_key:"modal",ref:e},{default:w(()=>[d(L)]),_:1},512),t("div",E,[N,t("button",{class:"btn",onClick:n[0]||(n[0]=i=>{var a;return(a=e.value)==null?void 0:a.openModal()})},"Add Job")])],64))}}),R=v(V,[["__scopeId","data-v-87d9df94"]]),m=o=>($("data-v-c550755b"),o=o(),A(),o),U={class:"card"},q={class:"card-header"},O={class:"btns-wrapper"},G={class:"card-body"},K=m(()=>t("strong",null,"Availaibility: ",-1)),P=m(()=>t("strong",null,"Description: ",-1)),Q=m(()=>t("strong",null,"Created at: ",-1)),W=m(()=>t("strong",null,"Last updated at: ",-1)),X=b({__name:"JobCard",props:{job:{type:Object,required:!0}},setup(o){var a;const e=o;console.log(e.job);const r=s=>{if(!s)return"";const l=new Date(s),f=l.toLocaleDateString(),y=l.toLocaleTimeString();return`${f}  ${y}`},n=j((a=e.job)==null?void 0:a.isAvailable),i=async s=>{if(n.value===s)return;const l=await g.put(`career/jobs/${e.job.id}/${s}`,{},{Authorization:`Bearer ${localStorage.getItem("token")}`});console.log(l.data),l.status===200&&(n.value=s)};return(s,l)=>(c(),_("div",U,[t("div",q,[t("h3",null,u(e.job.title),1),t("div",O,[t("button",{class:J([{active:n.value===1},"btn"]),onClick:l[0]||(l[0]=f=>i(1))},"Available",2),t("button",{class:J([{active:n.value===0},"btn"]),onClick:l[1]||(l[1]=f=>i(0))},"UnAvailable",2)])]),t("div",G,[t("p",null,[K,p(u(e.job.isAvailable),1)]),t("p",null,[P,p(u(e.job.description),1)]),t("p",null,[Q,p(u(r(e.job.created_at)),1)]),t("p",null,[W,p(u(r(e.job.updated_at)),1)])])]))}}),Y=v(X,[["__scopeId","data-v-c550755b"]]),Z={class:"jobs-container"},tt=b({__name:"Jobs",setup(o){const e=j([]),r=async()=>{const n=await g.get("career/jobs");e.value=n.data};return S(()=>{r()}),(n,i)=>(c(),_(h,null,[d(R),t("div",Z,[(c(!0),_(h,null,x(e.value,a=>(c(),D(Y,{key:a.id,job:a},null,8,["job"]))),128))])],64))}}),at=v(tt,[["__scopeId","data-v-1e77568d"]]);export{at as default};
