import{d as I,r as f,f as N,c as w,a as e,t as _,g as P,D as x,n as S,H as k,o as C,p as A,b as V,_ as y,e as v,F as D,h as z,i as H}from"./index-C1MU-Q8y.js";const J=u=>(A("data-v-905805da"),u=u(),V(),u),L={class:"header"},R=J(()=>e("h1",null,"Careers",-1)),F={class:"pagination-wrapper"},q={class:"btn-search-wrapper"},E=I({__name:"CareersHeader",props:{page:{type:Number,required:!0}},emits:["statusChanged","paginate","jobChanged"],setup(u,{emit:s}){const d=f(!1),b=f([]),c=f([]),n=s,o=r=>{d.value=r,n("statusChanged",r)},g=r=>{n("paginate",r)},h=async()=>{const r=await k.get("career/jobs");b.value=r.data,c.value=r.data.map(a=>a.title),c.value.push("All")},m=r=>{n("jobChanged",r)};return N(()=>{h()}),(r,a)=>(C(),w("div",L,[R,e("div",F,[e("button",{onClick:a[0]||(a[0]=t=>g(-1)),class:"btn"},"Prev Page"),e("div",null,[e("span",null,_(r.$props.page),1)]),e("button",{onClick:a[1]||(a[1]=t=>g(1)),class:"btn"},"Next Page")]),P(x,{list:c.value,default:"All",onInput:a[2]||(a[2]=t=>m(t))},null,8,["list"]),e("div",q,[e("button",{class:S(["btn",{active:d.value===!1}]),onClick:a[3]||(a[3]=t=>o(!1))},"Not Read",2),e("button",{class:S(["btn",{active:d.value===!0}]),onClick:a[4]||(a[4]=t=>o(!0))},"Read",2)])]))}}),G=y(E,[["__scopeId","data-v-905805da"]]),i=u=>(A("data-v-719b382f"),u=u(),V(),u),M={class:"card"},O={class:"info"},Z=i(()=>e("div",{class:"header"},null,-1)),K={class:"header"},Q=i(()=>e("h3",null,"Submission Info:",-1)),U={class:"btns-wrapper"},W=i(()=>e("strong",null,"Submitted at: ",-1)),X=i(()=>e("strong",null,"Resume: ",-1)),Y=["href"],ee=i(()=>e("strong",null,"Job: ",-1)),te=i(()=>e("h3",null,"Personal Info:",-1)),ae=i(()=>e("strong",null,"Name: ",-1)),se=i(()=>e("strong",null,"Phone: ",-1)),ne=i(()=>e("strong",null,"Email: ",-1)),oe=i(()=>e("strong",null,"State: ",-1)),re=i(()=>e("strong",null,"City: ",-1)),le=i(()=>e("strong",null,"Zip Code: ",-1)),ie=i(()=>e("strong",null,"Street Address: ",-1)),ce=I({__name:"CareerCard",props:{career:{type:Object,required:!0}},setup(u){const s=u,d=f(s.career.is_read),b=n=>{if(!n)return"";const o=new Date(n),g=o.toLocaleDateString(),h=o.toLocaleTimeString();return`${g}  ${h}`},c=async n=>{if(d.value===n)return;const o=await k.put(`career/applications/${s.career.id}/${n}`,{status:n},{Authorization:`Bearer ${localStorage.getItem("token")}`});o.status===401&&(window.location.href="/login"),o.status===200?d.value=n:alert(o.data.error)};return(n,o)=>{var g,h,m,r,a,t,p,l,$,j,B;return C(),w("div",M,[e("div",O,[Z,e("div",K,[Q,e("div",U,[e("button",{class:S([{active:d.value===1},"btn"]),onClick:o[0]||(o[0]=T=>c(1))},"Viewed",2),e("button",{class:S(["btn",{active:d.value===0}]),onClick:o[1]||(o[1]=T=>c(0))},"Not Viewed",2)])]),e("p",null,[W,v(" "+_(b((g=n.$props.career)==null?void 0:g.created_at)),1)]),e("p",null,[X,v(),e("a",{href:(h=s.career)==null?void 0:h.resume,target:"_blank"},"View Resume",8,Y)]),e("p",null,[ee,v(_((m=n.$props.career)==null?void 0:m.job),1)]),te,e("p",null,[ae,v(_((r=s.career)==null?void 0:r.first_name)+" "+_((a=s.career)==null?void 0:a.last_name),1)]),e("p",null,[se,v(_((t=s.career)==null?void 0:t.phone),1)]),e("p",null,[ne,v(_((p=s.career)==null?void 0:p.email),1)]),e("p",null,[oe,v(_((l=s.career)==null?void 0:l.state),1)]),e("p",null,[re,v(_(($=s.career)==null?void 0:$.city),1)]),e("p",null,[le,v(_((j=s.career)==null?void 0:j.zip_code),1)]),e("p",null,[ie,v(_((B=s.career)==null?void 0:B.street_address),1)])])])}}}),ue=y(ce,[["__scopeId","data-v-719b382f"]]),de={class:"careers-container"},pe=I({__name:"Careers",setup(u){const s=f(!1),d=f("All"),b=f([]),c=f(1),n=f(0),o=t=>{s.value=t,a()},g=t=>{d.value=t,a()},h=async()=>{const t=await k.get(`career/filter/${d.value}/${s.value}?page=${c.value}`,{Authorization:`Bearer ${localStorage.getItem("token")}`});if(b.value=t.data.data,console.log(t.data.data),t.status===401){window.location.href="/login";return}if(t.status===200)return t.data;alert(t.data.error)},m=t=>{c.value==1&&t<0||c.value==n.value&&t>0||(c.value=c.value+t,a())},a=((t,p=300)=>{let l;return function(...$){clearTimeout(l),l=setTimeout(()=>t.apply(this,$),p)}})(h,300);return N(()=>{h()}),(t,p)=>(C(),w(D,null,[P(G,{page:1,onStatusChanged:p[0]||(p[0]=l=>o(l)),onPaginate:p[1]||(p[1]=l=>m(l)),onJobChanged:p[2]||(p[2]=l=>g(l))}),e("div",de,[(C(!0),w(D,null,z(b.value,l=>(C(),H(ue,{class:"career",career:l,key:l.id},null,8,["career"]))),128))])],64))}}),ve=y(pe,[["__scopeId","data-v-8a54757e"]]);export{ve as default};
