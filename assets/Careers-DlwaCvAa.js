import{d as I,r as b,f as N,c as w,a as e,t as _,g as P,D as x,n as S,H as k,o as C,p as A,b as V,_ as y,e as v,F as D,h as z,i as H}from"./index-BoQplAzj.js";const J=c=>(A("data-v-905805da"),c=c(),V(),c),L={class:"header"},R=J(()=>e("h1",null,"Careers",-1)),F={class:"pagination-wrapper"},q={class:"btn-search-wrapper"},E=I({__name:"CareersHeader",props:{page:{type:Number,required:!0}},emits:["statusChanged","paginate","jobChanged"],setup(c,{emit:n}){const d=b(!1),f=b([]),i=b([]),s=n,o=r=>{d.value=r,s("statusChanged",r)},g=r=>{s("paginate",r)},h=async()=>{const r=await k.get("career/jobs");f.value=r.data,i.value=r.data.map(a=>a.title),i.value.push("All")},m=r=>{s("jobChanged",r)};return N(()=>{h()}),(r,a)=>(C(),w("div",L,[R,e("div",F,[e("button",{onClick:a[0]||(a[0]=t=>g(-1)),class:"btn"},"Prev Page"),e("div",null,[e("span",null,_(r.$props.page),1)]),e("button",{onClick:a[1]||(a[1]=t=>g(1)),class:"btn"},"Next Page")]),P(x,{list:i.value,default:"All",onInput:a[2]||(a[2]=t=>m(t))},null,8,["list"]),e("div",q,[e("button",{class:S(["btn",{active:d.value===!1}]),onClick:a[3]||(a[3]=t=>o(!1))},"Not Read",2),e("button",{class:S(["btn",{active:d.value===!0}]),onClick:a[4]||(a[4]=t=>o(!0))},"Read",2)])]))}}),G=y(E,[["__scopeId","data-v-905805da"]]),u=c=>(A("data-v-719b382f"),c=c(),V(),c),M={class:"card"},O={class:"info"},Z=u(()=>e("div",{class:"header"},null,-1)),K={class:"header"},Q=u(()=>e("h3",null,"Submission Info:",-1)),U={class:"btns-wrapper"},W=u(()=>e("strong",null,"Submitted at: ",-1)),X=u(()=>e("strong",null,"Resume: ",-1)),Y=["href"],ee=u(()=>e("strong",null,"Job: ",-1)),te=u(()=>e("h3",null,"Personal Info:",-1)),ae=u(()=>e("strong",null,"Name: ",-1)),se=u(()=>e("strong",null,"Phone: ",-1)),ne=u(()=>e("strong",null,"Email: ",-1)),oe=u(()=>e("strong",null,"State: ",-1)),re=u(()=>e("strong",null,"City: ",-1)),le=u(()=>e("strong",null,"Zip Code: ",-1)),ie=u(()=>e("strong",null,"Street Address: ",-1)),ue=I({__name:"CareerCard",props:{career:{type:Object,required:!0}},setup(c){const n=c,d=b(n.career.is_read),f=s=>{if(!s)return"";const o=new Date(s),g=o.toLocaleDateString(),h=o.toLocaleTimeString();return`${g}  ${h}`},i=async s=>{if(d.value===s)return;const o=await k.put(`career/applications/${n.career.id}/${s}`,{status:s},{Authorization:`Bearer ${localStorage.getItem("token")}`});o.status===401&&(window.location.href="/login"),o.status===200?d.value=s:alert(o.data.error)};return(s,o)=>{var g,h,m,r,a,t,p,l,$,j,B;return C(),w("div",M,[e("div",O,[Z,e("div",K,[Q,e("div",U,[e("button",{class:S([{active:d.value===1},"btn"]),onClick:o[0]||(o[0]=T=>i(1))},"Viewed",2),e("button",{class:S(["btn",{active:d.value===0}]),onClick:o[1]||(o[1]=T=>i(0))},"Not Viewed",2)])]),e("p",null,[W,v(" "+_(f((g=s.$props.career)==null?void 0:g.created_at)),1)]),e("p",null,[X,v(),e("a",{href:(h=n.career)==null?void 0:h.resume,target:"_blank"},"View Resume",8,Y)]),e("p",null,[ee,v(_((m=s.$props.career)==null?void 0:m.job),1)]),te,e("p",null,[ae,v(_((r=n.career)==null?void 0:r.first_name)+" "+_((a=n.career)==null?void 0:a.last_name),1)]),e("p",null,[se,v(_((t=n.career)==null?void 0:t.phone),1)]),e("p",null,[ne,v(_((p=n.career)==null?void 0:p.email),1)]),e("p",null,[oe,v(_((l=n.career)==null?void 0:l.state),1)]),e("p",null,[re,v(_(($=n.career)==null?void 0:$.city),1)]),e("p",null,[le,v(_((j=n.career)==null?void 0:j.zip_code),1)]),e("p",null,[ie,v(_((B=n.career)==null?void 0:B.street_address),1)])])])}}}),ce=y(ue,[["__scopeId","data-v-719b382f"]]),de={class:"careers-container"},pe=I({__name:"Careers",setup(c){const n=b(!1),d=b("All"),f=b([]),i=b(1),s=b(0),o=t=>{n.value=t,a()},g=t=>{d.value=t,a()},h=async()=>{const t=await k.get(`career/filter/${d.value}/${n.value}?page=${i.value}`,{Authorization:`Bearer ${localStorage.getItem("token")}`});if(f.value=t.data.data,s.value=t.data.last_page,console.log(t.data.data),t.status===401){window.location.href="/login";return}if(t.status===200)return t.data;alert(t.data.error)},m=t=>{i.value==1&&t<0||i.value==s.value&&t>0||(i.value=i.value+t,a())},a=((t,p=300)=>{let l;return function(...$){clearTimeout(l),l=setTimeout(()=>t.apply(this,$),p)}})(h,300);return N(()=>{h()}),(t,p)=>(C(),w(D,null,[P(G,{page:i.value,onStatusChanged:p[0]||(p[0]=l=>o(l)),onPaginate:p[1]||(p[1]=l=>m(l)),onJobChanged:p[2]||(p[2]=l=>g(l))},null,8,["page"]),e("div",de,[(C(!0),w(D,null,z(f.value,l=>(C(),H(ce,{class:"career",career:l,key:l.id},null,8,["career"]))),128))])],64))}}),ve=y(pe,[["__scopeId","data-v-68b8d402"]]);export{ve as default};
