import{d as f,k as y,o as p,c as _,g as d,I as u,a as n,H as k,p as b,b as I,_ as A,r as v,w,M as $,F as S,l as H,e as g,t as h,f as M,h as x,i as R}from"./index-BZqtV0gq.js";import{R as N}from"./RadioInputField-Cg8oWgGf.js";const B=s=>(b("data-v-1732dc57"),s=s(),I(),s),F={class:"form"},L=B(()=>n("h1",null,"Add Admin",-1)),P=f({__name:"AddAdminModal",setup(s){const a=y({first_name:"",last_name:"",phone:"",password:"",password_confirmation:"",role:""}),r=o=>{switch(o){case"Admin":a.role="admin";break;case"Super Admin":a.role="super_admin";break}},m=["Admin","Super Admin"],l=async()=>{const o=await k.post("admin/create",a,{Authorization:`Bearer ${localStorage.getItem("token")}`});console.log(o),o.status!=200?alert(o.data.error):(alert("Admin Added Successfully"),window.location.reload())};return(o,t)=>(p(),_("div",F,[L,d(u,{placeHolder:"First Name",onInput:t[0]||(t[0]=e=>a.first_name=e)}),d(u,{placeHolder:"Last Name",onInput:t[1]||(t[1]=e=>a.last_name=e)}),d(u,{placeHolder:"User Name",onInput:t[2]||(t[2]=e=>a.phone=e)}),d(N,{class:"radio-field",title:"Role",options:m,onChange:t[3]||(t[3]=e=>r(e)),checked:"Admin",error:!1}),d(u,{placeHolder:"Password",onInput:t[4]||(t[4]=e=>a.password=e),Password:""}),d(u,{placeHolder:"Confirm Password",onInput:t[5]||(t[5]=e=>a.password_confirmation=e),Password:""}),n("button",{class:"btn",onClick:l},"Submit")]))}}),E=A(P,[["__scopeId","data-v-1732dc57"]]),O=s=>(b("data-v-fd7d7150"),s=s(),I(),s),z={class:"header"},U=O(()=>n("h1",null,"Admins",-1)),V={class:"btn-search-wrapper"},j=f({__name:"AdminsHeader",emits:["search"],setup(s,{emit:a}){const r=a,m=o=>{r("search",o.target.value)},l=v(null);return(o,t)=>{const e=H("router-link");return p(),_(S,null,[d($,{ref_key:"modal",ref:l},{default:w(()=>[d(E)]),_:1},512),n("div",z,[U,n("div",V,[d(e,{to:"/dashboard/admin/emails",class:"add"},{default:w(()=>[g("Admin Emails")]),_:1}),n("input",{type:"text",placeholder:"Search Admins",class:"search",onInput:t[0]||(t[0]=i=>m(i))},null,32),n("button",{class:"add",onClick:t[1]||(t[1]=i=>{var c;return(c=l.value)==null?void 0:c.openModal()})},"Add Admin")])])],64)}}}),q=A(j,[["__scopeId","data-v-fd7d7150"]]),T=s=>(b("data-v-8e36da04"),s=s(),I(),s),D={class:"form"},W=T(()=>n("h1",null,"Add Admin",-1)),G=f({__name:"EditAdminModal",props:{admin:{type:Object,required:!0}},setup(s){const a=s,r=y({first_name:"",last_name:"",phone:"",password:"",password_confirmation:"",role:""}),m=e=>{switch(e){case"Admin":r.role="admin";break;case"Super Admin":r.role="super_admin";break}},l=["Admin","Super Admin"],o=async()=>{const e=await k.post("admin/create",r,{Authorization:`Bearer ${localStorage.getItem("token")}`});console.log(e),e.status!=200?alert(e.data.error):(alert("Admin Added Successfully"),window.location.reload())},t=()=>{switch(a.admin.role){case"admin":return"Admin";case"super_admin":return"Super Admin"}};return(e,i)=>(p(),_("div",D,[W,d(u,{placeHolder:"First Name",onInput:i[0]||(i[0]=c=>r.first_name=c),value:a.admin.first_name},null,8,["value"]),d(u,{placeHolder:"Last Name",onInput:i[1]||(i[1]=c=>r.last_name=c),value:a.admin.last_name},null,8,["value"]),d(u,{placeHolder:"User Name",onInput:i[2]||(i[2]=c=>r.phone=c),value:a.admin.phone},null,8,["value"]),d(N,{class:"radio-field",title:"Role",options:l,onChange:i[3]||(i[3]=c=>m(c)),checked:t()||"",error:!1},null,8,["checked"]),n("button",{class:"btn",onClick:o},"Submit")]))}}),J=A(G,[["__scopeId","data-v-8e36da04"]]),C=s=>(b("data-v-e02af2c5"),s=s(),I(),s),K={class:"card"},Q={class:"card-header"},X={class:"btns-wrapper"},Y=C(()=>n("button",{class:"btn"},"Change Password",-1)),Z={class:"card-body"},ee=C(()=>n("strong",null,"User Name:",-1)),te=C(()=>n("strong",null,"Role: ",-1)),se=f({__name:"AdminCard",props:{admin:{type:Object,required:!0}},setup(s){const a=s,r=v(null);return(m,l)=>{const o=H("AddAdminModal");return p(),_(S,null,[d($,{ref_key:"edit",ref:r},{default:w(()=>[d(J,{admin:s.admin},null,8,["admin"])]),_:1},512),d($,{ref:"changePassword"},{default:w(()=>[d(o)]),_:1},512),n("div",K,[n("div",Q,[n("h2",null,"Name: "+h(a.admin.first_name)+" "+h(a.admin.last_name),1),n("div",X,[n("button",{class:"btn",onClick:l[0]||(l[0]=t=>{var e;return(e=r.value)==null?void 0:e.openModal()})},"Edit"),Y])]),n("div",Z,[n("p",null,[ee,g(h(a.admin.phone),1)]),n("p",null,[te,g(h(a.admin.role),1)])])])],64)}}}),ae=A(se,[["__scopeId","data-v-e02af2c5"]]),ne={class:"admins-container"},oe={class:"adminsHeader"},de={class:"admin-city-wrapper"},re={class:"admin"},ie=f({__name:"Admins",setup(s){const a=v([]),r=v([]),m=async()=>{let o=await k.get("admin",{Authorization:`Bearer ${localStorage.getItem("token")}`});a.value=o.data,r.value=o.data},l=o=>{r.value=a.value.filter(t=>{const e=`${t.first_name} ${t.last_name}`.toLowerCase(),i=o.toLowerCase();return e.startsWith(i)})};return M(()=>{m()}),(o,t)=>(p(),_("div",ne,[n("div",oe,[d(q,{onSearch:t[0]||(t[0]=e=>l(e))})]),n("div",de,[(p(!0),_(S,null,x(r.value,e=>(p(),_("div",re,[(p(),R(ae,{key:e.id,admin:e},null,8,["admin"]))]))),256))])]))}}),me=A(ie,[["__scopeId","data-v-efb9211b"]]);export{me as default};
