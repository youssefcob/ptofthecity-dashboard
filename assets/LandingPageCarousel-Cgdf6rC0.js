import{d as h,r as f,f as F,o as g,c as v,a as l,g as u,I as b,F as k,h as L,t as I,_ as y,s as E,k as D,w as C,e as $,B as x,H,p as T,b as M,M as A}from"./index-BBLCOhY3.js";const P={class:"list-form-container"},z={class:"addToList-wrapper"},q={class:"list input-field"},N={class:"item"},O=["onClick"],V=h({__name:"ListInput",props:{list:{type:Array},placeHolder:String},emits:["input"],setup(o,{emit:p}){const m=o,s=f(""),a=f(m.list||[]),r=p,c=f(null),d=()=>{var t;s.value!==""&&(a.value.push(s.value),s.value="",(t=c.value)==null||t.clear(),r("input",a.value))},e=(t,n)=>{n.stopPropagation();const i=a.value.indexOf(t);i>-1&&a.value.splice(i,1),r("input",a.value)};return F(()=>{r("input",a.value)}),(t,n)=>(g(),v("div",P,[l("div",z,[u(b,{ref_key:"listInput",ref:c,placeHolder:m.placeHolder,value:s.value,onInput:n[0]||(n[0]=i=>s.value=i)},null,8,["placeHolder","value"]),l("div",{class:"btn add",onClick:n[1]||(n[1]=i=>d())},"Add")]),l("div",q,[(g(!0),v(k,null,L(a.value,i=>(g(),v("div",N,[l("span",null,I(i),1),l("div",{class:"btn delete",onClick:_=>e(i,_)},"-",8,O)]))),256))])]))}}),B=y(V,[["__scopeId","data-v-662a5ec4"]]),j={class:"addToList-wrapper"},U={class:"list input-field"},G=["onClick"],J=h({__name:"MultiFileInputField",props:{list:{type:Array},placeHolder:{type:String,default:"Add Images"}},emits:["input"],setup(o,{emit:p}){const m=o;f("");const s=new FormData,a=f([]),r=f(null),c=p;f(null);const d=t=>{var i;t.forEach((_,w)=>{s.append(w,_),a.value.push(w)}),(i=r.value)==null||i.clear();let n=new FormData;s.forEach((_,w)=>{n.append("images[]",_)}),c("input",n)},e=(t,n)=>{n.stopPropagation(),s.delete(t),a.value=a.value.filter(i=>i!==t),s.forEach((i,_)=>{console.log(_,i)}),c("input",s)};return F(()=>{c("input",s)}),(t,n)=>(g(),v("div",j,[u(E,{placeHolder:m.placeHolder,onInput:n[0]||(n[0]=i=>d(i)),ref_key:"fileInputField",ref:r},null,8,["placeHolder"]),l("div",U,[(g(!0),v(k,null,L(a.value,(i,_)=>(g(),v("div",{class:"item",key:_},[l("div",{class:"btn delete",onClick:w=>e(i,w)},"-",8,G),l("span",null,I(i),1)]))),128))])]))}}),K=y(J,[["__scopeId","data-v-f4bb38db"]]),Q=o=>(T("data-v-27cd39a0"),o=o(),M(),o),R={class:"form-wrapper"},W={class:"left"},X={class:"btn-wrapper"},Y={class:"right"},Z=Q(()=>l("div",{class:"ps"},"landscape aspect ratio 2:3 / 3:4 ",-1)),tt=h({__name:"AddCampaignModal",emits:["close","submit"],setup(o,{emit:p}){const m=p,s=f(!1),a=D({title:"",slogans:[],images:new FormData,animation_interval:"",buttonLink:"",buttonText:""}),r=async()=>{let e=c();try{s.value=!0;const t=await H.post("content/campaign",e,{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"});if(console.log(t.data),s.value=!1,t.status!=200){t.status===422&&alert(t.data.message),t.status===401&&(alert("Unauthorized"),window.location.href="/login");return}m("submit",t.data)}catch(t){s.value=!1,console.log(t)}},c=()=>{let e=new FormData;return a.slogans.forEach(t=>{e.append("slogans[]",t)}),a.images.forEach((t,n)=>{e.append("images[]",t)}),e.append("title",a.title),e.append("animation_interval",a.animation_interval),e.append("buttonLink",a.buttonLink),e.append("buttonText",a.buttonText),e},d=e=>{a.images=e};return(e,t)=>(g(),v("div",R,[l("div",W,[u(b,{placeHolder:"Add Title",onInput:t[0]||(t[0]=n=>a.title=n)}),u(b,{placeHolder:"Interval In ms",onInput:t[1]||(t[1]=n=>a.animation_interval=n)}),u(b,{placeHolder:"Button Link",onInput:t[2]||(t[2]=n=>a.buttonLink=n)}),u(b,{placeHolder:"Button text",onInput:t[3]||(t[3]=n=>a.buttonText=n)}),l("div",X,[u(x,{class:"btn add",onClick:t[4]||(t[4]=n=>r()),loading:s.value},{default:C(()=>[$("submit")]),_:1},8,["loading"]),l("div",{class:"btn cancel",onClick:t[5]||(t[5]=n=>m("close"))},"Cancel")])]),l("div",Y,[l("div",null,[u(K,{onInput:t[6]||(t[6]=n=>d(n))}),Z]),u(B,{placeHolder:"Add Slogans",onInput:t[7]||(t[7]=n=>a.slogans=n)})])]))}}),et=y(tt,[["__scopeId","data-v-27cd39a0"]]),nt={class:"form-wrapper"},at={class:"right"},lt={class:"left"},ot={class:"btn-wrapper"},st=h({__name:"EditCampaign",props:{campaign:{type:Object,required:!0}},emits:["close","submit"],setup(o,{emit:p}){const m=p,s=f(!1),a=o,r={title:a.campaign.title,slogans:a.campaign.slogans,animation_interval:a.campaign.animation_interval,buttonLink:a.campaign.buttonLink,buttonText:a.campaign.buttonText},c=async()=>{try{console.log(r),s.value=!0;const d=await H.patch(`content/campaign/${a.campaign.id}`,r,{Authorization:`Bearer ${localStorage.getItem("token")}`});if(console.log(d.data),s.value=!1,d.status!=200){d.status===422&&alert(d.data.message),d.status===401&&(alert("Unauthorized"),window.location.href="/login"),console.log(d);return}window.location.reload()}catch(d){s.value=!1,console.log(d)}};return(d,e)=>(g(),v("div",nt,[l("div",at,[u(B,{placeHolder:"Add Slogans",onInput:e[0]||(e[0]=t=>r.slogans=t),list:o.campaign.slogans},null,8,["list"])]),l("div",lt,[u(b,{placeHolder:"Add Title",onInput:e[1]||(e[1]=t=>r.title=t),value:o.campaign.title},null,8,["value"]),u(b,{placeHolder:"Interval In ms",onInput:e[2]||(e[2]=t=>r.animation_interval=t),value:o.campaign.animation_interval},null,8,["value"]),u(b,{placeHolder:"Button Link",onInput:e[3]||(e[3]=t=>r.buttonLink=t),value:o.campaign.buttonLink},null,8,["value"]),u(b,{placeHolder:"Button text",onInput:e[4]||(e[4]=t=>r.buttonText=t),value:o.campaign.buttonText},null,8,["value"]),l("div",ot,[u(x,{class:"btn add",onClick:e[5]||(e[5]=t=>c()),loading:s.value},{default:C(()=>[$("submit")]),_:1},8,["loading"]),l("div",{class:"btn cancel",onClick:e[6]||(e[6]=t=>m("close"))},"Cancel")])])]))}}),it=y(st,[["__scopeId","data-v-c2f91630"]]),S=o=>(T("data-v-e6360d3d"),o=o(),M(),o),dt={class:"card-header"},ut={class:"btn-wrapper"},rt={class:"slogans"},ct=S(()=>l("h3",null,"Slogans: ",-1)),pt=S(()=>l("h3",null,"Images: ",-1)),mt={class:"images"},gt=["href"],vt=S(()=>l("br",null,null,-1)),ft=h({__name:"CampaignCard",props:{campaign:{type:Object,required:!0},loading:{type:Boolean,required:!0}},emits:["delete"],setup(o,{emit:p}){const m=p,s=c=>{m("delete",c)},a=f(null),r=()=>{var c;(c=a.value)==null||c.openModal()};return(c,d)=>(g(),v(k,null,[u(A,{ref_key:"editCampaignModal",ref:a},{default:C(()=>[u(it,{campaign:o.campaign,onCancel:d[0]||(d[0]=e=>{var t;return(t=a.value)==null?void 0:t.closeModal()})},null,8,["campaign"])]),_:1},512),l("div",dt,[l("h2",null,"Title: "+I(o.campaign.title),1),l("div",ut,[u(x,{class:"delete",onClick:d[1]||(d[1]=e=>s(o.campaign.id)),loading:o.loading},{default:C(()=>[$("Delete")]),_:1},8,["loading"]),u(x,{onClick:d[2]||(d[2]=e=>r())},{default:C(()=>[$("Edit")]),_:1})])]),l("div",rt,[ct,l("span",null,[$(" ["),(g(!0),v(k,null,L(o.campaign.slogans,(e,t)=>(g(),v(k,{key:t},[$(I(e)+", ",1)],64))),128)),$("]")])]),l("h3",null,"Animation: "+I(o.campaign.animation),1),l("h3",null,"Interval: "+I(o.campaign.animation_interval),1),l("h3",null,"Button Link: "+I(o.campaign.buttonLink),1),l("h3",null,"Button Text: "+I(o.campaign.buttonText),1),pt,l("div",mt,[(g(!0),v(k,null,L(o.campaign.images,(e,t)=>(g(),v("a",{key:t,href:e.path},[$("Image "+I(t),1),vt],8,gt))),128))])],64))}}),_t=y(ft,[["__scopeId","data-v-e6360d3d"]]),It=o=>(T("data-v-9c0547c3"),o=o(),M(),o),bt={class:"landing-page"},$t={class:"header"},kt=It(()=>l("h2",null,"Landing Page",-1)),Ct={class:"btn-wrapper"},ht=h({__name:"LandingPageCarousel",setup(o){const p=f([]),m=f(null),s=f(!1),a=e=>{var n;console.log(e);let t=p.value;t.push(...e),p.value=t,(n=m.value)==null||n.closeModal()},r=async()=>{try{const e=await H.get("content/campaign",{Authorization:`Bearer ${localStorage.getItem("token")}`});console.log(e.data),p.value=e.data}catch(e){console.log(e)}},c=async e=>{s.value=!0;try{const t=await H.delete(`content/campaign/${e}`,{Authorization:`Bearer ${localStorage.getItem("token")}`});if(console.log(t.data),s.value=!1,t.status!=200){console.log(t);return}p.value=p.value.filter(n=>n.id!==e)}catch(t){s.value=!1,console.log(t)}},d=()=>{var e;(e=m.value)==null||e.openModal()};return F(()=>{r()}),(e,t)=>(g(),v(k,null,[u(A,{ref_key:"campaignModal",ref:m},{default:C(()=>[u(et,{onClose:t[0]||(t[0]=n=>{var i;return(i=m.value)==null?void 0:i.closeModal()}),onSubmit:t[1]||(t[1]=n=>a(n))})]),_:1},512),l("div",bt,[l("div",$t,[kt,l("div",Ct,[l("button",{class:"btn add",onClick:t[2]||(t[2]=n=>d())},"Add Image")])]),(g(!0),v(k,null,L(p.value,(n,i)=>(g(),v("div",{class:"card",key:i},[u(_t,{campaign:n,onDelete:t[3]||(t[3]=_=>c(_)),loading:s.value},null,8,["campaign","loading"])]))),128))])],64))}}),wt=y(ht,[["__scopeId","data-v-9c0547c3"]]);export{wt as default};
