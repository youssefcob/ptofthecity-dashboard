import{d as T,r as p,f as q,c as B,a as e,t as c,g as F,D as V,w as x,v as z,n as $,H as N,o as w,p as L,b as O,_ as j,e as b,F as M,h as G,i as Q}from"./index-Bc-6IAZv.js";const A=g=>(L("data-v-2a6e1680"),g=g(),O(),g),R={class:"header"},U=A(()=>e("h1",null,"Eligibility",-1)),J={class:"pagination-wrapper"},K={class:"clinic-wrapper"},W={class:"btn-search-wrapper"},X={class:"date-wrapper"},Y={class:"date"},Z=A(()=>e("label",{for:"start"},"Start date:",-1)),ee={class:"date"},te=A(()=>e("label",{for:"end"},"End date:",-1)),ae=["value"],ne=T({__name:"EligibilityHeader",props:{page:{type:Number,required:!0},lastPage:{type:Number,required:!0}},emits:["statusChanged","paginate"],setup(g,{emit:s}){const v=g,o=p(v.page),y=p("all"),h=p(null),r=p(""),n=p(`${new Date().toISOString().split("T")[0]}`),i=p(""),a=p("all"),_=s,m=t=>{o.value==1&&t<0||o.value==v.lastPage&&t>0||(o.value=o.value+t,f())},S=t=>{a.value=t,y.value=t,o.value=1,f()},I=p([]),C=t=>{if(t==="All"){h.value=null;return}I.value.includes(t)&&(h.value=t,o.value=1,f())},D=t=>{r.value=t.target.value,o.value=1,f()},k=t=>{n.value=t.target.value,o.value=1,f()},f=()=>{let t=[];o&&t.push(`page=${o.value}`),y.value&&t.push(`status=${y.value}`),h.value&&t.push(`insurance=${h.value}`),r.value&&t.push(`start_date=${r.value}`),n.value&&t.push(`end_date=${n.value}`),i.value=t.join("&"),console.log(i.value),_("statusChanged",i.value)},E=async()=>{let t=await N.get("images/insurance");t=t.data;let l=t.reduce((u,P)=>(u.push(P.title),u),[]);I.value=l};return q(async()=>{await E()}),(t,l)=>(w(),B("div",R,[U,e("div",J,[e("button",{onClick:l[0]||(l[0]=u=>m(-1)),class:"btn"},"Prev Page"),e("div",null,[e("span",null,c(v.page),1)]),e("button",{onClick:l[1]||(l[1]=u=>m(1)),class:"btn"},"Next Page")]),e("div",K,[F(V,{list:I.value,placeHolder:"Insurances",onInput:l[2]||(l[2]=u=>C(u))},null,8,["list"])]),e("div",W,[x(e("select",{"onUpdate:modelValue":l[3]||(l[3]=u=>a.value=u),onChange:l[4]||(l[4]=u=>S(a.value))},[e("option",{class:$(["btn",{active:a.value==="all"}]),value:"all"},"All",2),e("option",{class:$(["btn",{active:a.value==="pending"}]),value:"pending"},"Pending",2),e("option",{class:$(["btn",{active:a.value==="confirmed"}]),value:"confirmed"},"Confirmed ",2),e("option",{class:$(["btn",{active:a.value==="cancelled"}]),value:"cancelled"},"Cancelled ",2)],544),[[z,a.value]])]),e("div",X,[e("div",Y,[Z,e("input",{type:"date",name:"start",onChange:l[5]||(l[5]=u=>D(u))},null,32)]),e("div",ee,[te,e("input",{type:"date",name:"end",onChange:l[6]||(l[6]=u=>k(u)),value:new Date().toISOString().split("T")[0]},null,40,ae)])])]))}}),le=j(ne,[["__scopeId","data-v-2a6e1680"]]),d=g=>(L("data-v-025a3e2f"),g=g(),O(),g),ie={class:"card"},se={class:"info"},oe={class:"header"},re=d(()=>e("h3",null,"Personal Info:",-1)),ue={class:"btns-wrapper"},ce=d(()=>e("strong",null,"Name: ",-1)),de=d(()=>e("strong",null,"Phone: ",-1)),pe=d(()=>e("strong",null,"Email: ",-1)),ge=d(()=>e("strong",null,"Gender: ",-1)),ve=d(()=>e("strong",null,"Date Of Birth: ",-1)),_e=d(()=>e("h3",null,"Insurance Info:",-1)),be=d(()=>e("strong",null,"Insurance Company: ",-1)),he=d(()=>e("strong",null,"Insurance Card Front: ",-1)),fe=["href"],ye=d(()=>e("strong",null,"Insurance Card Back: ",-1)),me=["href"],$e=d(()=>e("strong",null,"Member ID: ",-1)),Ie=d(()=>e("strong",null,"Medicare ID: ",-1)),we=d(()=>e("strong",null,"Medicaid ID: ",-1)),Se=d(()=>e("strong",null,"Submitted at: ",-1)),Ce=T({__name:"EligibilityCard",props:{eligibility:{type:Object}},setup(g){var h;const s=g,v=p((h=s.eligibility)==null?void 0:h.status),o=async r=>{var i;if(v.value===r)return;const n=await N.put(`insurance/setStatus/${(i=s.eligibility)==null?void 0:i.id}/${r}`,{status:r},{Authorization:`Bearer ${localStorage.getItem("token")}`});n.status===401&&(window.location.href="/login"),n.status===200?v.value=r:alert(n.data.error)},y=r=>{if(!r)return"";const n=new Date(r),i=n.toLocaleDateString(),a=n.toLocaleTimeString();return`${i}  ${a}`};return(r,n)=>{var i,a,_,m,S,I,C,D,k,f,E,t,l,u,P;return w(),B("div",ie,[e("div",se,[e("div",oe,[re,e("div",ue,[e("button",{class:$([{active:v.value==="pending"},"btn"]),onClick:n[0]||(n[0]=H=>o("pending"))},"Pending",2),e("button",{class:$([{active:v.value==="accepted"},"btn"]),onClick:n[1]||(n[1]=H=>o("accepted"))},"Accepted",2),e("button",{class:$(["btn",{active:v.value==="rejected"}]),onClick:n[2]||(n[2]=H=>o("rejected"))},"Rejected",2)])]),e("p",null,[ce,b(c((i=s.eligibility)==null?void 0:i.first_name)+" "+c((a=s.eligibility)==null?void 0:a.last_name),1)]),e("p",null,[de,b(c((_=s.eligibility)==null?void 0:_.phone),1)]),e("p",null,[pe,b(c((m=s.eligibility)==null?void 0:m.email),1)]),e("p",null,[ge,b(c((S=s.eligibility)==null?void 0:S.gender),1)]),e("p",null,[ve,b(c((I=s.eligibility)==null?void 0:I.dob),1)]),_e,e("p",null,[be,b(" "+c((C=s.eligibility)==null?void 0:C.insurance_provider),1)]),e("p",null,[he,b(),e("a",{href:(D=s.eligibility)==null?void 0:D.insurance_card_front,target:"_blank"},c((k=s.eligibility)==null?void 0:k.insurance_card_front),9,fe)]),e("p",null,[ye,b(),e("a",{href:(f=s.eligibility)==null?void 0:f.insurance_card_back,target:"_blank"},c((E=s.eligibility)==null?void 0:E.insurance_card_back),9,me)]),e("p",null,[$e,b(" "+c((t=r.$props.eligibility)==null?void 0:t.member_id),1)]),e("p",null,[Ie,b(" "+c((l=r.$props.eligibility)==null?void 0:l.medicare_id),1)]),e("p",null,[we,b(" "+c((u=r.$props.eligibility)==null?void 0:u.medicaid_id),1)]),e("p",null,[Se,b(" "+c(y((P=r.$props.eligibility)==null?void 0:P.created_at)),1)])])])}}}),De=j(Ce,[["__scopeId","data-v-025a3e2f"]]),ke={class:"eligibility-container"},Ee=T({__name:"Eligibility",setup(g){p("pending");const s=p(1),v=p(0),o=p([]),y=i=>{n(i)},h=async(i="")=>{const a=await N.get(`insurance/filter?${i}`,{Authorization:`Bearer ${localStorage.getItem("token")}`});if(o.value=a.data.data,v.value=a.data.last_page,console.log(a.data),a.status===401){window.location.href="/login";return}if(a.status===200)return a.data;alert(a.data.error)},n=((i,a=300)=>{let _;return function(...m){clearTimeout(_),_=setTimeout(()=>i.apply(this,m),a)}})(h,300);return q(()=>{h()}),(i,a)=>(w(),B(M,null,[F(le,{page:s.value,lastPage:v.value,onStatusChanged:a[0]||(a[0]=_=>y(_))},null,8,["page","lastPage"]),e("div",ke,[(w(!0),B(M,null,G(o.value,_=>(w(),Q(De,{class:"eligibility",key:_.id,eligibility:_},null,8,["eligibility"]))),128))])],64))}}),Be=j(Ee,[["__scopeId","data-v-f7ec6b91"]]);export{Be as default};
