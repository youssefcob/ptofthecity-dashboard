import{d as b,o as d,c as r,p as S,b as T,a as o,_ as k,r as m,f as H,g as _,I as y,F as I,h as w,t as h,q as B,j as M,w as x,e as $,B as A,H as F,M as P}from"./index-x3ncPAbm.js";const D=u=>(S("data-v-e159d916"),u=u(),T(),u),E={class:"header"},z=D(()=>o("h1",null,"Content",-1)),N=[z],V=b({__name:"ContentHeader",setup(u){return(v,c)=>(d(),r("div",E,N))}}),j=k(V,[["__scopeId","data-v-e159d916"]]),q={class:"list-form-container"},O={class:"addToList-wrapper"},U={class:"list input-field"},G={class:"item"},J=["onClick"],K=b({__name:"ListInput",props:{list:{type:Array},placeHolder:String},emits:["input"],setup(u,{emit:v}){const c=u,l=m(""),s=m(c.list||[]),f=v,g=m(null),i=()=>{var t;l.value!==""&&(s.value.push(l.value),l.value="",(t=g.value)==null||t.clear(),f("input",s.value))},n=(t,e)=>{e.stopPropagation();const a=s.value.indexOf(t);a>-1&&s.value.splice(a,1),f("input",s.value)};return H(()=>{f("input",s.value)}),(t,e)=>(d(),r("div",q,[o("div",O,[_(y,{ref_key:"listInput",ref:g,placeHolder:c.placeHolder,value:l.value,onInput:e[0]||(e[0]=a=>l.value=a)},null,8,["placeHolder","value"]),o("div",{class:"btn add",onClick:e[1]||(e[1]=a=>i())},"Add")]),o("div",U,[(d(!0),r(I,null,w(s.value,a=>(d(),r("div",G,[o("span",null,h(a),1),o("div",{class:"btn delete",onClick:p=>n(a,p)},"-",8,J)]))),256))])]))}}),Q=k(K,[["__scopeId","data-v-662a5ec4"]]),R={class:"addToList-wrapper"},W={class:"list input-field"},X=["onClick"],Y=b({__name:"MultiFileInputField",props:{list:{type:Array},placeHolder:{type:String,default:"Add Images"}},emits:["input"],setup(u,{emit:v}){const c=u;m("");const l=new FormData,s=m([]),f=m(null),g=v;m(null);const i=t=>{var a;t.forEach((p,C)=>{l.append(C,p),s.value.push(C)}),(a=f.value)==null||a.clear();let e=new FormData;l.forEach((p,C)=>{e.append("images[]",p)}),g("input",e)},n=(t,e)=>{e.stopPropagation(),l.delete(t),s.value=s.value.filter(a=>a!==t),l.forEach((a,p)=>{console.log(p,a)}),g("input",l)};return H(()=>{g("input",l)}),(t,e)=>(d(),r("div",R,[_(B,{placeHolder:c.placeHolder,onInput:e[0]||(e[0]=a=>i(a)),ref_key:"fileInputField",ref:f},null,8,["placeHolder"]),o("div",W,[(d(!0),r(I,null,w(s.value,(a,p)=>(d(),r("div",{class:"item",key:p},[o("div",{class:"btn delete",onClick:C=>n(a,C)},"-",8,X),o("span",null,h(a),1)]))),128))])]))}}),Z=k(Y,[["__scopeId","data-v-f4bb38db"]]),tt={class:"form-wrapper"},et={class:"left"},nt={class:"btn-wrapper"},ot={class:"right"},st=b({__name:"AddCampaignModal",emits:["close","submit"],setup(u,{emit:v}){const c=v,l=m(!1),s=M({title:"",slogans:[],images:new FormData,animation_interval:"",buttonLink:"",buttonText:""}),f=async()=>{let n=g();try{l.value=!0;const t=await F.post("content/campaign",n,{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"});if(console.log(t.data),l.value=!1,t.status!=200){t.status===422&&alert("Please fill all fields"),t.status===401&&(alert("Unauthorized"),window.location.href="/login"),console.log(t);return}c("submit",t.data)}catch(t){l.value=!1,console.log(t)}},g=()=>{let n=new FormData;return s.slogans.forEach(t=>{n.append("slogans[]",t)}),s.images.forEach((t,e)=>{n.append("images[]",t)}),n.append("title",s.title),n.append("animation_interval",s.animation_interval),n.append("buttonLink",s.buttonLink),n.append("buttonText",s.buttonText),n},i=n=>{s.images=n};return(n,t)=>(d(),r("div",tt,[o("div",et,[_(y,{placeHolder:"Add Title",onInput:t[0]||(t[0]=e=>s.title=e)}),_(y,{placeHolder:"Interval In ms",onInput:t[1]||(t[1]=e=>s.animation_interval=e)}),_(y,{placeHolder:"Button Link",onInput:t[2]||(t[2]=e=>s.buttonLink=e)}),_(y,{placeHolder:"Button text",onInput:t[3]||(t[3]=e=>s.buttonText=e)}),o("div",nt,[_(A,{class:"btn add",onClick:t[4]||(t[4]=e=>f()),loading:l.value},{default:x(()=>[$("submit")]),_:1},8,["loading"]),o("div",{class:"btn cancel",onClick:t[5]||(t[5]=e=>c("close"))},"Cancel")])]),o("div",ot,[_(Z,{onInput:t[6]||(t[6]=e=>i(e))}),_(Q,{placeHolder:"Add Slogans",onInput:t[7]||(t[7]=e=>s.slogans=e)})])]))}}),at=k(st,[["__scopeId","data-v-0e8a49b8"]]),L=u=>(S("data-v-967ac671"),u=u(),T(),u),lt={class:"landing-page"},it={class:"header"},dt=L(()=>o("h2",null,"Landing Page",-1)),rt={class:"btn-wrapper"},ut={class:"card-header"},ct={class:"slogans"},pt=L(()=>o("h3",null,"Slogans: ",-1)),_t=L(()=>o("h3",null,"Images: ",-1)),vt={class:"images"},mt=["href"],ft=L(()=>o("br",null,null,-1)),gt=b({__name:"LandingPageCarousel",setup(u){const v=m([]),c=m(null),l=m(!1),s=i=>{var n;v.value.push(i),(n=c.value)==null||n.closeModal()},f=async()=>{try{const i=await F.get("content/campaign",{Authorization:`Bearer ${localStorage.getItem("token")}`});console.log(i.data),v.value=i.data}catch(i){console.log(i)}},g=async i=>{l.value=!0;try{const n=await F.delete(`content/campaign/${i}`,{Authorization:`Bearer ${localStorage.getItem("token")}`});if(console.log(n.data),l.value=!1,n.status!=200){console.log(n);return}v.value=v.value.filter(t=>t.id!==i)}catch(n){l.value=!1,console.log(n)}};return H(()=>{f()}),(i,n)=>(d(),r(I,null,[_(P,{ref_key:"modal",ref:c},{default:x(()=>[_(at,{ref_key:"modal",ref:c,onClose:n[0]||(n[0]=t=>{var e;return(e=c.value)==null?void 0:e.closeModal()}),onSubmit:n[1]||(n[1]=t=>s(t))},null,512)]),_:1},512),o("div",lt,[o("div",it,[dt,o("div",rt,[o("button",{class:"btn add",onClick:n[2]||(n[2]=t=>{var e;return(e=c.value)==null?void 0:e.openModal()})},"Add Image")])]),(d(!0),r(I,null,w(v.value,(t,e)=>(d(),r("div",{class:"card",key:e},[o("div",ut,[o("h2",null,"Title: "+h(t.title),1),_(A,{class:"delete",onClick:a=>g(t.id),loading:l.value},{default:x(()=>[$("Delete")]),_:2},1032,["onClick","loading"])]),o("div",ct,[pt,o("span",null,[$(" ["),(d(!0),r(I,null,w(t.slogans,(a,p)=>(d(),r(I,{key:p},[$(h(a)+", ",1)],64))),128)),$("]")])]),o("h3",null,"Animation: "+h(t.animation),1),o("h3",null,"Interval: "+h(t.animation_interval),1),o("h3",null,"Button Link: "+h(t.buttonLink),1),o("h3",null,"Button Text: "+h(t.buttonText),1),_t,o("div",vt,[(d(!0),r(I,null,w(t.images,(a,p)=>(d(),r("a",{key:p,href:a.path},[$("Image "+h(p),1),ft],8,mt))),128))])]))),128))])],64))}}),ht=k(gt,[["__scopeId","data-v-967ac671"]]),It={class:"content"},$t={class:"content-wrapper"},bt={class:"section"},kt=b({__name:"Content",setup(u){return(v,c)=>(d(),r("div",It,[_(j),o("div",$t,[o("div",bt,[_(ht)])])]))}}),yt=k(kt,[["__scopeId","data-v-81c0e127"]]);export{yt as default};
