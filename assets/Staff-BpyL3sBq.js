import{d as $,r as m,o as g,c as I,a,g as s,I as c,q as F,w as _,e as v,B as h,H as k,_ as C,f as y,M as H,F as w,h as M,t as f,p as B,b as x}from"./index-BPzE-4MG.js";const N={class:"form-container"},b={class:"left"},A={class:"right"},D={class:"btn-container"},T=$({__name:"AddStaffModal",emits:["newStaff","cancel"],setup(r,{emit:i}){const l=m(!1),n={first_name:"",last_name:"",title:"",image:new FormData,schedule:"",occupation:"",bio:""},p=i,S=async()=>{let o=d();l.value=!0;const t=await k.post("content/staff",o,{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"});l.value=!1,p("cancel"),t.status===201?p("newStaff",t.data):console.log(t),setTimeout(()=>{l.value=!1},2e3)},d=()=>{let o=new FormData;for(let t in n)t==="image"?n.image.forEach((e,X)=>{o.append("image",e)}):o.append(t,n[t]);return o};return(o,t)=>(g(),I("div",N,[a("div",b,[s(c,{placeHolder:"First Name",onInput:t[0]||(t[0]=e=>n.first_name=e)}),s(c,{placeHolder:"Last Name",onInput:t[1]||(t[1]=e=>n.last_name=e)}),s(c,{placeHolder:"title",onInput:t[2]||(t[2]=e=>n.title=e)}),s(c,{placeHolder:"Schedule",onInput:t[3]||(t[3]=e=>n.schedule=e)}),s(c,{placeHolder:"Occupation",onInput:t[4]||(t[4]=e=>n.occupation=e)}),s(F,{placeHolder:"Image",onInput:t[5]||(t[5]=e=>n.image=e)})]),a("div",A,[s(c,{height:"19rem",placeHolder:"Bio",onInput:t[6]||(t[6]=e=>n.bio=e)}),a("div",D,[s(h,{loading:l.value,onClick:t[7]||(t[7]=e=>S())},{default:_(()=>[v("Submit")]),_:1},8,["loading"]),s(h,{class:"cancel",onClick:t[8]||(t[8]=e=>p("cancel"))},{default:_(()=>[v("Cancel")]),_:1})])])]))}}),V=C(T,[["__scopeId","data-v-ccb17af9"]]),u=r=>(B("data-v-78f40f9c"),r=r(),x(),r),E={class:"staff-container"},L={class:"staff-container-header"},q=u(()=>a("h2",null,"Staff",-1)),z={class:"staff-card"},O={class:"staff-card-header"},j={class:"staff-card-body"},G=u(()=>a("strong",null,"occupation: ",-1)),J=u(()=>a("strong",null,"schedule: ",-1)),K=u(()=>a("strong",null,"title: ",-1)),P={class:"img"},Q=u(()=>a("strong",null,"image: ",-1)),R=["href"],U=u(()=>a("strong",null,"bio: ",-1)),W=$({__name:"Staff",setup(r){const i=m([]),l=m(null),n=m(!1),p=async()=>{const d=await k.get("content/staff");i.value=d.data},S=async d=>{n.value=!0,await k.delete(`content/staff/${d}`),n.value=!1,i.value=i.value.filter(o=>o.id!==d)};return y(()=>{p()}),(d,o)=>(g(),I(w,null,[s(H,{ref_key:"modal",ref:l},{default:_(()=>[s(V,{onCancel:o[0]||(o[0]=t=>{var e;return(e=l.value)==null?void 0:e.closeModal()}),onNewStaff:o[1]||(o[1]=t=>i.value.push(t))})]),_:1},512),a("div",E,[a("div",L,[q,s(h,{class:"add",onClick:o[2]||(o[2]=t=>{var e;return(e=l.value)==null?void 0:e.openModal()})},{default:_(()=>[v("Add")]),_:1})]),(g(!0),I(w,null,M(i.value,t=>(g(),I("div",z,[a("div",O,[a("h2",null,f(t.first_name)+" "+f(t.last_name),1),s(h,{class:"delete",loading:n.value,onClick:e=>S(t.id)},{default:_(()=>[v("Delete")]),_:2},1032,["loading","onClick"])]),a("div",j,[a("div",null,[G,a("p",null,f(t.occupation),1)]),a("div",null,[J,a("p",null,f(t.schedule),1)]),a("div",null,[K,a("p",null,f(t.title),1)]),a("div",P,[Q,v(),a("a",{href:t.image,target:"_blank"},"Click Here!",8,R)]),a("div",null,[U,a("p",null,f(t.bio),1)])])]))),256))])],64))}}),Z=C(W,[["__scopeId","data-v-78f40f9c"]]);export{Z as default};
