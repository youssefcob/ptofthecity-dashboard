import{d as k,o as i,c as d,p as S,b as T,a as n,_ as C,r as v,f as H,g as p,I as y,F as $,h as w,t as h,q as M,j as B,w as x,e as b,B as A,H as F,M as D}from"./index-D3yRTJCg.js";const P=r=>(S("data-v-e159d916"),r=r(),T(),r),E={class:"header"},z=P(()=>n("h1",null,"Content",-1)),N=[z],V=k({__name:"ContentHeader",setup(r){return(_,u)=>(i(),d("div",E,N))}}),j=C(V,[["__scopeId","data-v-e159d916"]]),q={class:"list-form-container"},O={class:"addToList-wrapper"},U={class:"list input-field"},G={class:"item"},J=["onClick"],K=k({__name:"ListInput",props:{list:{type:Array},placeHolder:String},emits:["input"],setup(r,{emit:_}){const u=r,l=v(""),s=v(u.list||[]),m=_,g=v(null),I=()=>{var t;l.value!==""&&(s.value.push(l.value),l.value="",(t=g.value)==null||t.clear(),m("input",s.value))},o=(t,e)=>{e.stopPropagation();const a=s.value.indexOf(t);a>-1&&s.value.splice(a,1),m("input",s.value)};return H(()=>{m("input",s.value)}),(t,e)=>(i(),d("div",q,[n("div",O,[p(y,{ref_key:"listInput",ref:g,placeHolder:u.placeHolder,value:l.value,onInput:e[0]||(e[0]=a=>l.value=a)},null,8,["placeHolder","value"]),n("div",{class:"btn add",onClick:e[1]||(e[1]=a=>I())},"Add")]),n("div",U,[(i(!0),d($,null,w(s.value,a=>(i(),d("div",G,[n("span",null,h(a),1),n("div",{class:"btn delete",onClick:c=>o(a,c)},"-",8,J)]))),256))])]))}}),Q=C(K,[["__scopeId","data-v-662a5ec4"]]),R={class:"addToList-wrapper"},W={class:"list input-field"},X=["onClick"],Y=k({__name:"MultiFileInputField",props:{list:{type:Array},placeHolder:{type:String,default:"Add Images"}},emits:["input"],setup(r,{emit:_}){const u=r;v("");const l=new FormData,s=v([]),m=v(null),g=_;v(null);const I=t=>{var a;t.forEach((c,f)=>{l.append(f,c),s.value.push(f)}),(a=m.value)==null||a.clear();let e=new FormData;l.forEach((c,f)=>{e.append("images[]",c)}),g("input",e)},o=(t,e)=>{e.stopPropagation(),l.delete(t),s.value=s.value.filter(a=>a!==t),l.forEach((a,c)=>{console.log(c,a)}),g("input",l)};return H(()=>{g("input",l)}),(t,e)=>(i(),d("div",R,[p(M,{placeHolder:u.placeHolder,onInput:e[0]||(e[0]=a=>I(a)),ref_key:"fileInputField",ref:m},null,8,["placeHolder"]),n("div",W,[(i(!0),d($,null,w(s.value,(a,c)=>(i(),d("div",{class:"item",key:c},[n("div",{class:"btn delete",onClick:f=>o(a,f)},"-",8,X),n("span",null,h(a),1)]))),128))])]))}}),Z=C(Y,[["__scopeId","data-v-f4bb38db"]]),tt={class:"form-wrapper"},et={class:"left"},nt={class:"btn-wrapper"},ot={class:"right"},st=k({__name:"AddCampaignModal",emits:["close","submit"],setup(r,{emit:_}){const u=_,l=v(!1),s=B({title:"",slogans:[],images:new FormData,animation_interval:"",buttonLink:"",buttonText:""}),m=async()=>{let o=g();try{l.value=!0;const t=await F.post("content/campaign",o,{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"});if(console.log(t.data),l.value=!1,t.status!=200){t.status===422&&alert(t.data.message),t.status===401&&(alert("Unauthorized"),window.location.href="/login"),console.log(t);return}u("submit",t.data)}catch(t){l.value=!1,console.log(t)}},g=()=>{let o=new FormData;return s.slogans.forEach(t=>{o.append("slogans[]",t)}),s.images.forEach((t,e)=>{o.append("images[]",t)}),o.append("title",s.title),o.append("animation_interval",s.animation_interval),o.append("buttonLink",s.buttonLink),o.append("buttonText",s.buttonText),o},I=o=>{s.images=o};return(o,t)=>(i(),d("div",tt,[n("div",et,[p(y,{placeHolder:"Add Title",onInput:t[0]||(t[0]=e=>s.title=e)}),p(y,{placeHolder:"Interval In ms",onInput:t[1]||(t[1]=e=>s.animation_interval=e)}),p(y,{placeHolder:"Button Link",onInput:t[2]||(t[2]=e=>s.buttonLink=e)}),p(y,{placeHolder:"Button text",onInput:t[3]||(t[3]=e=>s.buttonText=e)}),n("div",nt,[p(A,{class:"btn add",onClick:t[4]||(t[4]=e=>m()),loading:l.value},{default:x(()=>[b("submit")]),_:1},8,["loading"]),n("div",{class:"btn cancel",onClick:t[5]||(t[5]=e=>u("close"))},"Cancel")])]),n("div",ot,[p(Z,{onInput:t[6]||(t[6]=e=>I(e))}),p(Q,{placeHolder:"Add Slogans",onInput:t[7]||(t[7]=e=>s.slogans=e)})])]))}}),at=C(st,[["__scopeId","data-v-450a36ce"]]),L=r=>(S("data-v-2ed8767e"),r=r(),T(),r),lt={class:"landing-page"},it={class:"header"},dt=L(()=>n("h2",null,"Landing Page",-1)),rt={class:"btn-wrapper"},ut={class:"card-header"},ct={class:"slogans"},pt=L(()=>n("h3",null,"Slogans: ",-1)),_t=L(()=>n("h3",null,"Images: ",-1)),vt={class:"images"},mt=["href"],gt=L(()=>n("br",null,null,-1)),ft=k({__name:"LandingPageCarousel",setup(r){const _=v([]),u=v(null),l=v(!1),s=o=>{var t;_.value.push(o),(t=u.value)==null||t.closeModal()},m=async()=>{try{const o=await F.get("content/campaign",{Authorization:`Bearer ${localStorage.getItem("token")}`});console.log(o.data),_.value=o.data}catch(o){console.log(o)}},g=async o=>{l.value=!0;try{const t=await F.delete(`content/campaign/${o}`,{Authorization:`Bearer ${localStorage.getItem("token")}`});if(console.log(t.data),l.value=!1,t.status!=200){console.log(t);return}_.value=_.value.filter(e=>e.id!==o)}catch(t){l.value=!1,console.log(t)}},I=()=>{var o;(o=u.value)==null||o.openModal()};return H(()=>{m()}),(o,t)=>(i(),d($,null,[p(D,{ref_key:"campaignModal",ref:u},{default:x(()=>[p(at,{onClose:t[0]||(t[0]=e=>{var a;return(a=u.value)==null?void 0:a.closeModal()}),onSubmit:t[1]||(t[1]=e=>s(e))})]),_:1},512),n("div",lt,[n("div",it,[dt,n("div",rt,[n("button",{class:"btn add",onClick:t[2]||(t[2]=e=>I())},"Add Image")])]),(i(!0),d($,null,w(_.value,(e,a)=>(i(),d("div",{class:"card",key:a},[n("div",ut,[n("h2",null,"Title: "+h(e.title),1),p(A,{class:"delete",onClick:c=>g(e.id),loading:l.value},{default:x(()=>[b("Delete")]),_:2},1032,["onClick","loading"])]),n("div",ct,[pt,n("span",null,[b(" ["),(i(!0),d($,null,w(e.slogans,(c,f)=>(i(),d($,{key:f},[b(h(c)+", ",1)],64))),128)),b("]")])]),n("h3",null,"Animation: "+h(e.animation),1),n("h3",null,"Interval: "+h(e.animation_interval),1),n("h3",null,"Button Link: "+h(e.buttonLink),1),n("h3",null,"Button Text: "+h(e.buttonText),1),_t,n("div",vt,[(i(!0),d($,null,w(e.images,(c,f)=>(i(),d("a",{key:f,href:c.path},[b("Image "+h(f),1),gt],8,mt))),128))])]))),128))])],64))}}),ht=C(ft,[["__scopeId","data-v-2ed8767e"]]),It={class:"content"},$t={class:"content-wrapper"},bt={class:"section"},kt=k({__name:"Content",setup(r){return(_,u)=>(i(),d("div",It,[p(j),n("div",$t,[n("div",bt,[p(ht)])])]))}}),yt=C(kt,[["__scopeId","data-v-81c0e127"]]);export{yt as default};
