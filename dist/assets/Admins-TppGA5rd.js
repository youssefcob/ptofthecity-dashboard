import{d as f,j as y,o as u,c as _,g as r,I as m,a as n,H as g,p as w,b,_ as A,r as v,w as I,M as $,F as k,k as N,t as h,e as C,f as M,h as x,i as R}from"./index-DI2dkZHq.js";import{R as H}from"./RadioInputField-aHcVYVff.js";const B=s=>(w("data-v-ddba806c"),s=s(),b(),s),F={class:"form"},L=B(()=>n("h1",null,"Add Admin",-1)),E=f({__name:"AddAdminModal",setup(s){const a=y({first_name:"",last_name:"",phone:"",password:"",password_confirmation:"",role:""}),d=o=>{switch(o){case"Admin":a.role="admin";break;case"Super Admin":a.role="super_admin";break}},c=["Admin","Super Admin"],l=async()=>{const o=await g.post("admin/create",a,{Authorization:`Bearer ${localStorage.getItem("token")}`});console.log(o),o.status!=200?alert(o.data.error):(alert("Admin Added Successfully"),window.location.reload())};return(o,t)=>(u(),_("div",F,[L,r(m,{placeHolder:"First Name",onInput:t[0]||(t[0]=e=>a.first_name=e)}),r(m,{placeHolder:"Last Name",onInput:t[1]||(t[1]=e=>a.last_name=e)}),r(m,{placeHolder:"User Name",onInput:t[2]||(t[2]=e=>a.phone=e)}),r(H,{class:"radio-field",title:"Role",options:c,onChange:t[3]||(t[3]=e=>d(e)),checked:"Admin",error:!1}),r(m,{placeHolder:"Password",onInput:t[4]||(t[4]=e=>a.password=e)}),r(m,{placeHolder:"Confirm Password",onInput:t[5]||(t[5]=e=>a.password_confirmation=e)}),n("button",{class:"btn",onClick:l},"Submit")]))}}),O=A(E,[["__scopeId","data-v-ddba806c"]]),P=s=>(w("data-v-d9aa9b6d"),s=s(),b(),s),j={class:"header"},z=P(()=>n("h1",null,"Admins",-1)),U={class:"btn-search-wrapper"},V=f({__name:"AdminsHeader",emits:["search"],setup(s,{emit:a}){const d=a,c=o=>{d("search",o.target.value)},l=v(null);return(o,t)=>(u(),_(k,null,[r($,{ref_key:"modal",ref:l},{default:I(()=>[r(O)]),_:1},512),n("div",j,[z,n("div",U,[n("input",{type:"text",placeholder:"Search Admins",class:"search",onInput:t[0]||(t[0]=e=>c(e))},null,32),n("button",{class:"add",onClick:t[1]||(t[1]=e=>{var i;return(i=l.value)==null?void 0:i.openModal()})},"Add Admin")])])],64))}}),q=A(V,[["__scopeId","data-v-d9aa9b6d"]]),T=s=>(w("data-v-8e36da04"),s=s(),b(),s),D={class:"form"},W=T(()=>n("h1",null,"Add Admin",-1)),G=f({__name:"EditAdminModal",props:{admin:{type:Object,required:!0}},setup(s){const a=s,d=y({first_name:"",last_name:"",phone:"",password:"",password_confirmation:"",role:""}),c=e=>{switch(e){case"Admin":d.role="admin";break;case"Super Admin":d.role="super_admin";break}},l=["Admin","Super Admin"],o=async()=>{const e=await g.post("admin/create",d,{Authorization:`Bearer ${localStorage.getItem("token")}`});console.log(e),e.status!=200?alert(e.data.error):(alert("Admin Added Successfully"),window.location.reload())},t=()=>{switch(a.admin.role){case"admin":return"Admin";case"super_admin":return"Super Admin"}};return(e,i)=>(u(),_("div",D,[W,r(m,{placeHolder:"First Name",onInput:i[0]||(i[0]=p=>d.first_name=p),value:a.admin.first_name},null,8,["value"]),r(m,{placeHolder:"Last Name",onInput:i[1]||(i[1]=p=>d.last_name=p),value:a.admin.last_name},null,8,["value"]),r(m,{placeHolder:"User Name",onInput:i[2]||(i[2]=p=>d.phone=p),value:a.admin.phone},null,8,["value"]),r(H,{class:"radio-field",title:"Role",options:l,onChange:i[3]||(i[3]=p=>c(p)),checked:t()||"",error:!1},null,8,["checked"]),n("button",{class:"btn",onClick:o},"Submit")]))}}),J=A(G,[["__scopeId","data-v-8e36da04"]]),S=s=>(w("data-v-e02af2c5"),s=s(),b(),s),K={class:"card"},Q={class:"card-header"},X={class:"btns-wrapper"},Y=S(()=>n("button",{class:"btn"},"Change Password",-1)),Z={class:"card-body"},ee=S(()=>n("strong",null,"User Name:",-1)),te=S(()=>n("strong",null,"Role: ",-1)),se=f({__name:"AdminCard",props:{admin:{type:Object,required:!0}},setup(s){const a=s,d=v(null);return(c,l)=>{const o=N("AddAdminModal");return u(),_(k,null,[r($,{ref_key:"edit",ref:d},{default:I(()=>[r(J,{admin:s.admin},null,8,["admin"])]),_:1},512),r($,{ref:"changePassword"},{default:I(()=>[r(o)]),_:1},512),n("div",K,[n("div",Q,[n("h2",null,"Name: "+h(a.admin.first_name)+" "+h(a.admin.last_name),1),n("div",X,[n("button",{class:"btn",onClick:l[0]||(l[0]=t=>{var e;return(e=d.value)==null?void 0:e.openModal()})},"Edit"),Y])]),n("div",Z,[n("p",null,[ee,C(h(a.admin.phone),1)]),n("p",null,[te,C(h(a.admin.role),1)])])])],64)}}}),ae=A(se,[["__scopeId","data-v-e02af2c5"]]),ne={class:"admins-container"},oe={class:"adminsHeader"},de={class:"admin-city-wrapper"},re={class:"admin"},ie=f({__name:"Admins",setup(s){const a=v([]),d=v([]),c=async()=>{let o=await g.get("admin",{Authorization:`Bearer ${localStorage.getItem("token")}`});a.value=o.data,d.value=o.data},l=o=>{d.value=a.value.filter(t=>{const e=`${t.first_name} ${t.last_name}`.toLowerCase(),i=o.toLowerCase();return e.startsWith(i)})};return M(()=>{c()}),(o,t)=>(u(),_("div",ne,[n("div",oe,[r(q,{onSearch:t[0]||(t[0]=e=>l(e))})]),n("div",de,[(u(!0),_(k,null,x(d.value,e=>(u(),_("div",re,[(u(),R(ae,{key:e.id,admin:e},null,8,["admin"]))]))),256))])]))}}),me=A(ie,[["__scopeId","data-v-efb9211b"]]);export{me as default};
